---
import Layout from "../layouts/Layout.astro";
import MarcoMobile from "../components/MarcoMobile.astro";

import Boton from "../components/dynamic/Boton.astro";
---

<Layout>
  <MarcoMobile>
    <section
      class="w-full h-full bg-white border-2 border-gray-300 rounded-3xl bg-cover flex flex-col p-4"
    >
      <Boton color="bg-red-500 " icon="fas fa-arrow-left" link="/contacto" />
      <div class="flex flex-col gap-2 w-80 justify-center items-center mx-auto">
        <div class="relative">
          <div
            class="w-30 mx-auto h-30 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full text-white flex items-center justify-center text-4xl font-bold relative"
          >
            <img id="foto" src="/nice.webp" alt="" class="rounded-full" />
            <a
              href="/contactoAdd"
              class="absolute bottom-0 right-0 px-2 py-2 bg-amber-400 text-white text-xl flex rounded-full cursor-pointer hover:scale-110 transition"
            >
              <i class="fas fa-pen"></i>
            </a>
          </div>

          <p id="nombre" class="w-full text-2xl py-3 text-center "></p>
        </div>

        <div class="w-full bg-gray-100 h-80 p-4 rounded-2xl">
          <h2 class="mb-4 text-lg font-semibold">Informacion de contacto</h2>
          <div class="pl-2 space-y-2">
            <p class="font-semibold text-lg">Correo:</p>
            <p id="correo" class="">
              <span class="fas fa-envelope text-blue-500 text-lg mr-2"></span>
            </p>
            <p class="font-semibold text-lg">Numero:</p>
            <p id="telefono" class="">
              <span class="fas fa-phone text-green-500 text-lg mr-2"></span>
            </p>
          </div>
        </div>
      </div>
    </section>
  </MarcoMobile>
</Layout>
<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const actual = JSON.parse(localStorage.getItem("actual"));

    const nombre = document.getElementById("nombre");
    const correo = document.getElementById("correo");
    const telefono = document.getElementById("telefono");
    const foto = document.getElementById("foto");

    if (nombre) nombre.textContent = actual.nombre || "Sin nombre";
    if (correo) correo.textContent = actual.correo || "Sin correo";
    if (telefono) telefono.textContent = actual.phone || "Sin tel√©fono";
    if (foto && actual.imagen) foto.src = actual.imagen;
  });
</script>
